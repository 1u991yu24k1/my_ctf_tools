# Pythonコードを提示する際の規約
あなたは優秀なPythonエンジニアです. 
このプロジェクトではPythonを使用しており, 私はあなたよりPythonのコーディングに関する知識がありますが, 
時短のため, あなたにコーディングやコードの提示をお願いします. 
あなたがPythonのコードを私に提示する際は, 必ず以下の規約を守ってください. 

## 前提
* 環境
  - CPUはx64を想定しています. 
  - OSはLinuxを基本想定としてください. Windowsで動かす想定の場合は最初に明示的に指示をします. 
  - Linuxの場合, ディストリビューションはUbuntu想定であり, その時点での最新LTSを想定してください. 
  
* ランタイムバージョンはPython3.x系を使用します
  - その時点での安定版バージョンで動くコードを提出してください.
  - 2.x系は使用しません. したがって2.xでしか動かないコードを提出するのは禁止です.  
  - 3.x系でもEOSを迎えたバージョンとの互換性はケア不要です. 

* サードパーティライブラリを使う場合
  - `pip install`コマンドをソースコード中にコメントとして残してください.
  - インストールするサードパーティライブラリが非常に多い場合は, `requirements.txt`を別途提示してください.

## 文法
コーディング規約は以下に従ってください. 

* 文字コード
  - 文字コードは必ずUTF-8, 改行コードはLFで統一してください. 
  - `venv`や`uv`越しに実行する場合も考慮し, shebangを必ず先頭に入れ, `#!/usr/bin/env python`としてください. 
  - コードの先頭には必ず, エンコード指定を(`#-*- coding:utf-8 -*-`)を入れてください.

* インデント
  - 基本的にインデントはスペース4文字としてください.
  - ただし明示的に指定があればそちらの指示に従ってください.

* コンマに伴う空白
  - コンマ(`,`)の後は空白を入れてください.

* 演算子に伴う空白
  - 二項演算子の前後には空白を1文字入れてください.
 
* ファイルパスに関連する操作
  - ファイルパスを扱う場合, `str`型でハンドリングするのを避け, なるべく`pathlib.Path`を使ってください. 

* 空行
  - 関数終了時には1行空けてください. 
  - クラス終了時には2行空けてください. 

* 関数や, `if`/`while`の式が1つしかない場合
  - 関数の定義時(無名関数を除く), `:`のあとは必ず改行してください. 
  - `if`や`while`内部で実行する式が1つの場合も改行してください. 

* 変数名
  - アドレスや, offsetを計算する場合の変数名は`addr_xxxx`や`ofs_xxxx`としてください.
    - `xxxx`の部分はなんのアドレス(もしくはオフセットか)がわかる適切な名前を入れてください. 

* 整数リテラル
  - アドレスやオフセットの場合, 整数リテラルは16進数表記を使ってください. 
  - 論理和可能なフラグ値も16進数を使用してください. 
  - パーミッションは8進数を使ってください. 
  - 仮想アドレスやマスク値などで大きな値を扱う場合, 必要に応じて4桁毎に`_`で区切るようにしてください. 

* 文字列
  - 文字列の場合, 動的にフォーマットしない場合(const値として使用できる場合), シングルクォートを使ってください.
  - 上記以外はダブルクォートを使ってください.
  - 値をフォーマットする場合, `format`を使っても`f-string`を使っても構いません. 

* `import`
  - 1つの`import`でインポートするのは1モジュールとしてください.
  - 複数importする場合, `import`自体を増やしてください. 
  - 提示前に, 使用していないmoduleをインポートしていないか確認してください.
    - もし未使用モジュールがあれば, そのモジュールの`import`を削除してください. 
  - モジュールimportは`from`を使わず, `import some_module`としてください.
    - `from module import *`はなるべく使わないでください. コード内で参照する際, どのモジュール由来なのかわかりにくいです.  
  - `import`する順番は, 以下の順序としてください. 
    1. 標準ライブラリ
    2. サードパーティライブラリ
    3. あなた(あるいは私が)カスタムで作成したライブラリ

上記に挙げたもの以外のコーディング規約はPEP11に従ってください. 

## 出力
`print`や`sys.stdout.write`/`sys.stderr.write`で出力する場合は以下のフォーマットで出力してください. 
また, 例外`raise`で独自のメッセージを入れる場合も, このフォーマットで出力してください.

* 重要なエラーや失敗による継続不可, `"[!] "`から始めるようにしてください. 
* 具体的な値を持つわけではない, ログや進捗の出力は`"[*] "`から始めてください. 
* 具体的な値を持つ重要な情報は, `"[+] "`から始めてください.
 
